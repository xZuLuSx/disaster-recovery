Домашнее задание к занятию 12.6 "Репликация и масштабирование. Часть 1" - Амелин Антон

Задание 1

Репликация master-slave

Плюсы:
Аналитические приложения могут считывать данные с подчиненных устройств, не влияя на главный.
Резервное копирование всей базы данных относительно не влияет на мастер.
Подчиненные устройства могут быть переведены в автономный режим и синхронизированы с ведущим устройством без каких-либо простоев.

Минусы
В случае неудачи подчиненный должен быть повышен до ведущего, чтобы занять его место.
Отсутствие автоматического переключения на другой ресурс. Время простоя и, возможно, потеря данных при сбое master.
Все записи также должны быть сделаны ведущему устройству в формате ведущий-ведомый.
Каждое дополнительное ведомое устройство добавляет некоторую нагрузку на ведущее устройство, поскольку двоичный журнал должен быть прочитан, а данные скопированы на каждое ведомое устройство.
Возможно, потребуется перезапустить приложение.

Репликация Master-Master

Плюсы:
Приложения могут считывать данные с обоих основных устройств
Распределяет нагрузку на запись между обоими главными узлами.
Простой, автоматический и быстрый переход на другой ресурс.

Минусы:
Слабо согласовано.
Настроить и развернуть не так просто, как master-slave.

Для репликации мастер-мастер (двусторонняя репликация) и так же при настройки “Master-Slave” с точностью до наоборот (основной Master настраивается как Slave, а второй (бывший Slave) - как Мастер). Если на втором мастере не будет производиться запись (”пассивный” мастер), то изменение Autoincrement-increment не потребуется. При репликации двух активных master-master следует обратить внимание на Autoincrement. Действительно, если на двух серверах одновременно будет создана запись с одинаковым первичным ключом, то при попытке репликации получим ошибку Dublicate entry.


Задание 2

Master - 192.168.1.8
Slave - 192.168.1.7

Master
![alt test](https://github.com/xZuLuSx/disaster-recovery/blob/main/img/rep1.png)

Slave
![alt test](https://github.com/xZuLuSx/disaster-recovery/blob/main/img/rep2.png)

Проверка привилегии MASTER

![alt test](https://github.com/xZuLuSx/disaster-recovery/blob/main/img/rep3.png)

Проверка статуса Master

![alt test](https://github.com/xZuLuSx/disaster-recovery/blob/main/img/rep4.png)

Создание БД, проверка вывода БД

![alt test](https://github.com/xZuLuSx/disaster-recovery/blob/main/img/rep5.png)
![alt test](https://github.com/xZuLuSx/disaster-recovery/blob/main/img/rep6.png)

Работоспособность репликации

![alt test](https://github.com/xZuLuSx/disaster-recovery/blob/main/img/rep7.png)
![alt test](https://github.com/xZuLuSx/disaster-recovery/blob/main/img/rep8.png)



